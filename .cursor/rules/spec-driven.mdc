---
description: Spec-driven development workflow for Coherence Network
globs:
alwaysApply: true
---
## Project Scope

**Current project:** Coherence-Network. All implementations belong here (api/, web/, specs/).

**references/**: Symlinks to Crypo-Coin-Coherency-Network and Living-Codex-CSharp. Use for context, patterns, and ideas. Do NOT edit them as part of Coherence-Network work. See docs/REFERENCE-REPOS.md.

## Spec-First

- Every feature starts with a spec in `specs/`
- Specs define requirements, API contracts, and files to modify
- Implement ONLY what the spec says; no scope creep

## Test Contract

- Tests are written before or with implementation
- Tests define the contract; do NOT modify tests to make implementation pass
- If tests fail, fix the implementation. If a test seems wrong, create `needs-decision` issue.

## File Scope

- Only modify files listed in the spec/issue
- Do not refactor adjacent code or add features not in spec

## Principles (from Living Codex)

- Everything is a Node (data as nodes/edges where applicable)
- Adapters over features — external I/O stays thin
- Tiny deltas — minimal, git-like changes
- No mocks — prefer real data and algorithms

## Interface

- Cursor is the primary manual development interface
- Chat (Grok, OpenAI) for copy/paste when stuck on hard issues
